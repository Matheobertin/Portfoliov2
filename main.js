const _0x1d89a2=_0x411a;function _0x4f9e(){const _0x4c00aa=['15yMKOJW','9656955dMZwZo','load','display','keydown','add','keyup','render','ArrowRight','clampWhenFinished','hasOwnProperty','ArrowUp','PCFSoftShadowMap','domElement','144guTxpw','Clock','textOverlay','getElementById','51rVJBtO','Vector2','animations','intersectObject','113716WTUKbg','258140dxwNcO','1494264UPXjLX','scale','sin','Vector3','Mesh','scene','get','innerHeight','1689552iPsAnk','rotation','cursor','getDelta','position','clientX','chariot.glb','static','addEventListener','4OElRpr','clientY','body','This\x20is\x20the\x20book\x20information.\x20You\x20can\x20add\x20your\x20own\x20text\x20here.','atan2','clipAction','MeshBasicMaterial','Scene','innerWidth','none','set','enabled','This\x20is\x20the\x20chariot\x20information.\x20You\x20can\x20add\x20your\x20own\x20text\x20here.','lookAt','pointer','7192kqkIff','10em','end','angle','BoxGeometry','style','personnage.glb','create','armoire.glb','PointLight','castShadow','livre.glb','WebGLRenderer','shadowMap','ArrowDown','type','copy','clone','setSize','cos','fleur.glb','setLoop','innerHTML','1183sOrhkR','auto','AnimationMixer','left','bureau.glb','LoopOnce','ArrowLeft','setFromCamera','radian','400705mBZEhT','length','intersectObjects','key','play','Raycaster','block'];_0x4f9e=function(){return _0x4c00aa;};return _0x4f9e();}(function(_0x1477d9,_0x34f6fb){const _0x47f9ff=_0x411a,_0x2c40aa=_0x1477d9();while(!![]){try{const _0x5ed7e4=-parseInt(_0x47f9ff(0x16f))/0x1*(-parseInt(_0x47f9ff(0x140))/0x2)+parseInt(_0x47f9ff(0x188))/0x3*(parseInt(_0x47f9ff(0x18c))/0x4)+-parseInt(_0x47f9ff(0x176))/0x5*(-parseInt(_0x47f9ff(0x18e))/0x6)+-parseInt(_0x47f9ff(0x166))/0x7*(parseInt(_0x47f9ff(0x14f))/0x8)+parseInt(_0x47f9ff(0x184))/0x9*(-parseInt(_0x47f9ff(0x18d))/0xa)+-parseInt(_0x47f9ff(0x177))/0xb+-parseInt(_0x47f9ff(0x196))/0xc;if(_0x5ed7e4===_0x34f6fb)break;else _0x2c40aa['push'](_0x2c40aa['shift']());}catch(_0x76f391){_0x2c40aa['push'](_0x2c40aa['shift']());}}}(_0x4f9e,0x6d6b3));import*as _0x42cdf0 from'./three.module.js';import{GLTFLoader}from'./GLTFLoader.js';const scene=new _0x42cdf0[(_0x1d89a2(0x147))](),camera=new _0x42cdf0['PerspectiveCamera'](0x4b,window['innerWidth']/window[_0x1d89a2(0x195)],0.1,0x3e8),renderer=new _0x42cdf0[(_0x1d89a2(0x15b))]();renderer[_0x1d89a2(0x161)](window[_0x1d89a2(0x148)]-0xf,window[_0x1d89a2(0x195)]-0x14),document[_0x1d89a2(0x142)]['appendChild'](renderer[_0x1d89a2(0x183)]);const loader1=new GLTFLoader();let mixer,action,animationDuration,scene1;loader1['load']('demarage.glb',_0x41f445=>{const _0x14c10e=_0x1d89a2;scene1=_0x41f445[_0x14c10e(0x193)],scene1[_0x14c10e(0x18f)][_0x14c10e(0x14a)](0xa,0xa,0xa),scene1[_0x14c10e(0x13b)][_0x14c10e(0x14a)](0x0,0x0,0x0),animationDuration=_0x41f445['animations'][0x0]['duration'],scene['add'](scene1),mixer=new _0x42cdf0[(_0x14c10e(0x168))](scene1),action=mixer['clipAction'](_0x41f445[_0x14c10e(0x18a)][0x0]),action['setLoop'](_0x42cdf0['LoopOnce']),action[_0x14c10e(0x17f)]=!![],action[_0x14c10e(0x173)]();});const pointLight=new _0x42cdf0[(_0x1d89a2(0x158))](0xffffff,0x28,0x14);pointLight[_0x1d89a2(0x13b)][_0x1d89a2(0x14a)](3.5,0x4,3.5),scene[_0x1d89a2(0x17b)](pointLight);const pointLight1=new _0x42cdf0[(_0x1d89a2(0x158))](0xffffff,0x28,0x14);pointLight1[_0x1d89a2(0x13b)][_0x1d89a2(0x14a)](-3.5,0x4,3.5),scene[_0x1d89a2(0x17b)](pointLight1);const pointLight2=new _0x42cdf0[(_0x1d89a2(0x158))](0xffffff,0x28,0x14);pointLight2[_0x1d89a2(0x13b)]['set'](0x0,0x4,-3.5),scene[_0x1d89a2(0x17b)](pointLight2);const sceneWidth=0xa,sceneHeight=0xa,loader=new GLTFLoader();loader[_0x1d89a2(0x178)](_0x1d89a2(0x155),_0x2d0eb6=>{const _0x5412b3=_0x1d89a2;_0x2d0eb6[_0x5412b3(0x193)][_0x5412b3(0x18f)][_0x5412b3(0x14a)](0xa,0xa,0xa),_0x2d0eb6[_0x5412b3(0x193)][_0x5412b3(0x159)]=!![],character['add'](_0x2d0eb6[_0x5412b3(0x193)]);});const characterGeometry=new _0x42cdf0['BoxGeometry'](0x0,0x0,0x0),characterMaterial=new _0x42cdf0[(_0x1d89a2(0x146))]({'color':0xff0000}),character=new _0x42cdf0[(_0x1d89a2(0x192))](characterGeometry,characterMaterial);character['position'][_0x1d89a2(0x14a)](0x0,-0x5,0.86),character[_0x1d89a2(0x18f)][_0x1d89a2(0x14a)](0x1,0x1,0x1),character[_0x1d89a2(0x159)]=!![],scene[_0x1d89a2(0x17b)](character);const loader2=new GLTFLoader();loader2['load']('tableau.glb',_0x575a7b=>{const _0x71cfc5=_0x1d89a2;_0x575a7b['scene'][_0x71cfc5(0x18f)][_0x71cfc5(0x14a)](0xa,0xa,0xa),_0x575a7b[_0x71cfc5(0x193)]['castShadow']=!![],tableau[_0x71cfc5(0x17b)](_0x575a7b[_0x71cfc5(0x193)]);});const tableauGeometry=new _0x42cdf0[(_0x1d89a2(0x153))](0x0,0x0,0x0),tableauMaterial=new _0x42cdf0[(_0x1d89a2(0x146))]({'color':0xff0000}),tableau=new _0x42cdf0['Mesh'](tableauGeometry,tableauMaterial);tableau[_0x1d89a2(0x13b)][_0x1d89a2(0x14a)](0x0,0x0,0x0),tableau['scale'][_0x1d89a2(0x14a)](0x1,0x1,0x1),tableau[_0x1d89a2(0x159)]=!![],scene[_0x1d89a2(0x17b)](tableau);const loader3=new GLTFLoader();loader3[_0x1d89a2(0x178)](_0x1d89a2(0x16a),_0x36a19a=>{const _0x2b4b02=_0x1d89a2;_0x36a19a[_0x2b4b02(0x193)][_0x2b4b02(0x18f)][_0x2b4b02(0x14a)](0xa,0xa,0xa),_0x36a19a[_0x2b4b02(0x193)][_0x2b4b02(0x159)]=!![],bureau[_0x2b4b02(0x17b)](_0x36a19a['scene']);});function _0x411a(_0x3f9ade,_0x4c3910){const _0x4f9e62=_0x4f9e();return _0x411a=function(_0x411a94,_0xc4a8fb){_0x411a94=_0x411a94-0x13a;let _0x542326=_0x4f9e62[_0x411a94];return _0x542326;},_0x411a(_0x3f9ade,_0x4c3910);}const bureauGeometry=new _0x42cdf0[(_0x1d89a2(0x153))](0x0,0x0,0x0),bureauMaterial=new _0x42cdf0[(_0x1d89a2(0x146))]({'color':0xff0000}),bureau=new _0x42cdf0[(_0x1d89a2(0x192))](bureauGeometry,bureauMaterial);bureau[_0x1d89a2(0x13b)]['set'](0x0,0x0,0x0),bureau['scale'][_0x1d89a2(0x14a)](0x1,0x1,0x1),bureau[_0x1d89a2(0x159)]=!![],scene['add'](bureau);const loader7=new GLTFLoader();loader7[_0x1d89a2(0x178)](_0x1d89a2(0x157),_0x30fc7e=>{const _0x396953=_0x1d89a2;_0x30fc7e[_0x396953(0x193)][_0x396953(0x18f)][_0x396953(0x14a)](0xa,0xa,0xa),_0x30fc7e[_0x396953(0x193)][_0x396953(0x159)]=!![],armoire[_0x396953(0x17b)](_0x30fc7e['scene']);});const armoireGeometry=new _0x42cdf0[(_0x1d89a2(0x153))](0x0,0x0,0x0),armoireMaterial=new _0x42cdf0[(_0x1d89a2(0x146))]({'color':0xff0000}),armoire=new _0x42cdf0['Mesh'](armoireGeometry,armoireMaterial);armoire[_0x1d89a2(0x13b)]['set'](0x0,0x0,0x0),armoire[_0x1d89a2(0x18f)]['set'](0x1,0x1,0x1),armoire[_0x1d89a2(0x159)]=!![],scene[_0x1d89a2(0x17b)](armoire);const loader4=new GLTFLoader();loader4[_0x1d89a2(0x178)](_0x1d89a2(0x15a),_0x26c173=>{const _0x12f0b7=_0x1d89a2;_0x26c173[_0x12f0b7(0x193)][_0x12f0b7(0x18f)][_0x12f0b7(0x14a)](0xa,0xa,0xa),_0x26c173[_0x12f0b7(0x193)]['castShadow']=!![],livre[_0x12f0b7(0x17b)](_0x26c173[_0x12f0b7(0x193)]);});const livreGeometry=new _0x42cdf0['BoxGeometry'](0x0,0x0,0x0),livreMaterial=new _0x42cdf0[(_0x1d89a2(0x146))]({'color':0xff0000}),livre=new _0x42cdf0[(_0x1d89a2(0x192))](livreGeometry,livreMaterial);livre[_0x1d89a2(0x13b)][_0x1d89a2(0x14a)](0x0,0x0,0x0),livre[_0x1d89a2(0x18f)][_0x1d89a2(0x14a)](0x1,0x1,0x1),livre['castShadow']=!![],bureau[_0x1d89a2(0x17b)](livre);const loader5=new GLTFLoader();loader5[_0x1d89a2(0x178)](_0x1d89a2(0x13d),_0x2c643d=>{const _0x16541e=_0x1d89a2;_0x2c643d[_0x16541e(0x193)][_0x16541e(0x18f)][_0x16541e(0x14a)](0xa,0xa,0xa),_0x2c643d[_0x16541e(0x193)]['castShadow']=!![],chariot['add'](_0x2c643d[_0x16541e(0x193)]);});const chariotGeometry=new _0x42cdf0[(_0x1d89a2(0x153))](0x0,0x0,0x0),chariotMaterial=new _0x42cdf0[(_0x1d89a2(0x146))]({'color':0xff0000}),chariot=new _0x42cdf0[(_0x1d89a2(0x192))](chariotGeometry,chariotMaterial);chariot['position'][_0x1d89a2(0x14a)](0x0,0x0,0x0),chariot['scale'][_0x1d89a2(0x14a)](0x1,0x1,0x1),chariot[_0x1d89a2(0x159)]=!![],bureau[_0x1d89a2(0x17b)](chariot);const loader6=new GLTFLoader();loader6['load'](_0x1d89a2(0x163),_0xc279d0=>{const _0x5a823b=_0x1d89a2;_0xc279d0['scene'][_0x5a823b(0x18f)][_0x5a823b(0x14a)](0xa,0xa,0xa),_0xc279d0[_0x5a823b(0x193)][_0x5a823b(0x159)]=!![],fleur[_0x5a823b(0x17b)](_0xc279d0[_0x5a823b(0x193)]);});const fleurGeometry=new _0x42cdf0[(_0x1d89a2(0x153))](0x0,0x0,0x0),fleurMaterial=new _0x42cdf0[(_0x1d89a2(0x146))]({'color':0xff0000}),fleur=new _0x42cdf0[(_0x1d89a2(0x192))](fleurGeometry,fleurMaterial);fleur[_0x1d89a2(0x13b)]['set'](0x0,0x0,0x0),fleur[_0x1d89a2(0x18f)][_0x1d89a2(0x14a)](0x1,0x1,0x1),fleur['castShadow']=!![],bureau[_0x1d89a2(0x17b)](fleur);let tableauClicked=![],bureauClicked=![],armoireClicked=![],livreClicked=![],chariotClicked=![],fleurClicked=![];renderer['domElement'][_0x1d89a2(0x13f)]('click',_0x1df263=>{const _0x2e9fb9=_0x1d89a2,_0x153374=new _0x42cdf0[(_0x2e9fb9(0x174))](),_0x305d6e=new _0x42cdf0[(_0x2e9fb9(0x189))]();_0x305d6e['x']=_0x1df263[_0x2e9fb9(0x13c)]/window['innerWidth']*0x2-0x1,_0x305d6e['y']=-(_0x1df263[_0x2e9fb9(0x141)]/window[_0x2e9fb9(0x195)])*0x2+0x1,_0x153374['setFromCamera'](_0x305d6e,camera);const _0x49de3d=_0x153374[_0x2e9fb9(0x171)]([tableau],!![]),_0x3687c7=_0x153374['intersectObjects']([bureau],!![]),_0x286230=_0x153374[_0x2e9fb9(0x171)]([armoire],!![]),_0x51bbe1=document[_0x2e9fb9(0x187)](_0x2e9fb9(0x186));_0x51bbe1[_0x2e9fb9(0x154)][_0x2e9fb9(0x179)]=_0x2e9fb9(0x149);tableauClicked&&(tableauClicked=![]);armoireClicked&&(armoireClicked=![]);if(bureauClicked){const _0x1bbe06=_0x153374['intersectObjects']([livre],!![]),_0x3eb4e6=_0x153374[_0x2e9fb9(0x171)]([chariot],!![]),_0x52292e=_0x153374[_0x2e9fb9(0x171)]([fleur],!![]);_0x51bbe1[_0x2e9fb9(0x154)][_0x2e9fb9(0x179)]=_0x2e9fb9(0x149),bureauClicked=![],livreClicked&&(livreClicked=![],bureauClicked=!![]),chariotClicked&&(chariotClicked=![],bureauClicked=!![]),fleurClicked?(fleurClicked=![],bureauClicked=!![]):(_0x1bbe06['length']>0x0&&(_0x51bbe1['innerHTML']=_0x2e9fb9(0x143),_0x51bbe1[_0x2e9fb9(0x154)]['top']=window['innerHeight']/0x2-0x64+'px',_0x51bbe1[_0x2e9fb9(0x154)][_0x2e9fb9(0x169)]=window[_0x2e9fb9(0x148)]/0x2-0x64+'px',livreClicked=!![],_0x51bbe1['style'][_0x2e9fb9(0x179)]='block',bureauClicked=!![]),_0x3eb4e6[_0x2e9fb9(0x170)]>0x0&&(_0x51bbe1[_0x2e9fb9(0x165)]=_0x2e9fb9(0x14c),_0x51bbe1[_0x2e9fb9(0x154)]['top']=window[_0x2e9fb9(0x195)]/0x2-0x64+'px',_0x51bbe1['style'][_0x2e9fb9(0x169)]=window[_0x2e9fb9(0x148)]/0x2-0x64+'px',chariotClicked=!![],_0x51bbe1[_0x2e9fb9(0x154)][_0x2e9fb9(0x179)]=_0x2e9fb9(0x175),bureauClicked=!![]),_0x52292e[_0x2e9fb9(0x170)]>0x0&&(_0x51bbe1[_0x2e9fb9(0x165)]='This\x20is\x20the\x20fleur\x20information.\x20You\x20can\x20add\x20your\x20own\x20text\x20here.',_0x51bbe1[_0x2e9fb9(0x154)]['top']=window[_0x2e9fb9(0x195)]/0x2-0x64+'px',_0x51bbe1[_0x2e9fb9(0x154)][_0x2e9fb9(0x169)]=window[_0x2e9fb9(0x148)]/0x2-0x64+'px',fleurClicked=!![],_0x51bbe1[_0x2e9fb9(0x154)]['display']=_0x2e9fb9(0x175),bureauClicked=!![]));}else _0x49de3d[_0x2e9fb9(0x170)]>0x0&&(tableauClicked=!![],camera[_0x2e9fb9(0x13b)][_0x2e9fb9(0x15f)](tableau[_0x2e9fb9(0x13b)]),camera[_0x2e9fb9(0x13b)][_0x2e9fb9(0x17b)](new _0x42cdf0[(_0x2e9fb9(0x191))](-4.3,1.15,3.45)),camera[_0x2e9fb9(0x197)][_0x2e9fb9(0x14a)](-Math['PI']/0x19,Math['PI']/7.25,Math['PI']/0x3c)),_0x3687c7['length']>0x0&&(camera['position'][_0x2e9fb9(0x15f)](bureau[_0x2e9fb9(0x13b)]),camera[_0x2e9fb9(0x13b)][_0x2e9fb9(0x17b)](new _0x42cdf0['Vector3'](-3.225,1.1,-1.4)),camera[_0x2e9fb9(0x197)][_0x2e9fb9(0x14a)](-Math['PI']/0x6,Math['PI']/7.5,Math['PI']/0xf),bureauClicked=!![]),_0x286230[_0x2e9fb9(0x170)]>0x0&&(camera[_0x2e9fb9(0x13b)][_0x2e9fb9(0x15f)](armoire[_0x2e9fb9(0x13b)]),camera[_0x2e9fb9(0x13b)][_0x2e9fb9(0x17b)](new _0x42cdf0[(_0x2e9fb9(0x191))](-3.225,1.1,-1.4)),camera[_0x2e9fb9(0x197)]['set'](-Math['PI']/0x6,Math['PI']/7.5,Math['PI']/0xf),armoireClicked=!![]);});let isMouseOverTableau=![],isMouseOverBureau=![],isMouseOverArmoire=![],isMouseOverLivre=![],isMouseOverChariot=![],isMouseOverFleur=![];renderer[_0x1d89a2(0x183)][_0x1d89a2(0x13f)]('mousemove',_0x21a05e=>{const _0x1b32d2=_0x1d89a2,_0x3df220=new _0x42cdf0['Raycaster'](),_0x3e3be1=new _0x42cdf0[(_0x1b32d2(0x189))]();_0x3e3be1['x']=_0x21a05e['clientX']/window['innerWidth']*0x2-0x1,_0x3e3be1['y']=-(_0x21a05e[_0x1b32d2(0x141)]/window[_0x1b32d2(0x195)])*0x2+0x1,_0x3df220[_0x1b32d2(0x16d)](_0x3e3be1,camera);if(tableauClicked===![]&&bureauClicked===![]&&armoireClicked===![]){const _0x5ba6b7=_0x3df220[_0x1b32d2(0x18b)](tableau,!![]),_0x2134ea=_0x3df220[_0x1b32d2(0x18b)](bureau,!![]),_0x234251=_0x3df220[_0x1b32d2(0x18b)](armoire,!![]);_0x5ba6b7[_0x1b32d2(0x170)]>0x0?!isMouseOverTableau&&(isMouseOverTableau=!![],renderer[_0x1b32d2(0x183)][_0x1b32d2(0x154)]['cursor']='pointer',tableau[_0x1b32d2(0x13b)]['y']+=0.1):isMouseOverTableau&&(isMouseOverTableau=![],renderer['domElement'][_0x1b32d2(0x154)][_0x1b32d2(0x198)]=_0x1b32d2(0x167),tableau[_0x1b32d2(0x13b)]['y']-=0.1),_0x2134ea[_0x1b32d2(0x170)]>0x0?!isMouseOverBureau&&(isMouseOverBureau=!![],renderer[_0x1b32d2(0x183)]['style'][_0x1b32d2(0x198)]=_0x1b32d2(0x14e),bureau[_0x1b32d2(0x13b)]['y']+=0.1):isMouseOverBureau&&(isMouseOverBureau=![],renderer[_0x1b32d2(0x183)][_0x1b32d2(0x154)]['cursor']=_0x1b32d2(0x167),bureau['position']['y']-=0.1),_0x234251['length']>0x0?!isMouseOverArmoire&&(isMouseOverArmoire=!![],renderer[_0x1b32d2(0x183)][_0x1b32d2(0x154)][_0x1b32d2(0x198)]='pointer',armoire['position']['y']+=0.1):isMouseOverArmoire&&(isMouseOverArmoire=![],renderer[_0x1b32d2(0x183)][_0x1b32d2(0x154)]['cursor']=_0x1b32d2(0x167),armoire['position']['y']-=0.1);}if(bureauClicked){const _0x1ac02f=_0x3df220[_0x1b32d2(0x18b)](livre,!![]),_0x2fece7=_0x3df220[_0x1b32d2(0x18b)](chariot,!![]),_0x5e79d6=_0x3df220[_0x1b32d2(0x18b)](fleur,!![]);_0x1ac02f[_0x1b32d2(0x170)]>0x0?!isMouseOverLivre&&(isMouseOverLivre=!![],renderer[_0x1b32d2(0x183)][_0x1b32d2(0x154)]['cursor']=_0x1b32d2(0x14e),livre['position']['y']+=0.05):isMouseOverLivre&&(isMouseOverLivre=![],renderer[_0x1b32d2(0x183)][_0x1b32d2(0x154)][_0x1b32d2(0x198)]=_0x1b32d2(0x167),livre[_0x1b32d2(0x13b)]['y']-=0.05),_0x2fece7[_0x1b32d2(0x170)]>0x0?!isMouseOverChariot&&(isMouseOverChariot=!![],renderer['domElement'][_0x1b32d2(0x154)][_0x1b32d2(0x198)]='pointer',chariot[_0x1b32d2(0x13b)]['y']+=0.05):isMouseOverChariot&&(isMouseOverChariot=![],renderer['domElement'][_0x1b32d2(0x154)]['cursor']=_0x1b32d2(0x167),chariot['position']['y']-=0.05),_0x5e79d6[_0x1b32d2(0x170)]>0x0?!isMouseOverFleur&&(isMouseOverFleur=!![],renderer['domElement'][_0x1b32d2(0x154)]['cursor']=_0x1b32d2(0x14e),fleur[_0x1b32d2(0x13b)]['y']+=0.05):isMouseOverFleur&&(isMouseOverFleur=![],renderer[_0x1b32d2(0x183)][_0x1b32d2(0x154)][_0x1b32d2(0x198)]=_0x1b32d2(0x167),fleur['position']['y']-=0.05);}}),camera[_0x1d89a2(0x13b)][_0x1d89a2(0x14a)](0x0,0x2,0x3);const keys={'ArrowUp':![],'ArrowDown':![],'ArrowLeft':![],'ArrowRight':![],'\x20':![]};document[_0x1d89a2(0x13f)](_0x1d89a2(0x17a),_0x551342=>{const _0x463861=_0x1d89a2;keys[_0x463861(0x180)](_0x551342[_0x463861(0x172)])&&(keys[_0x551342[_0x463861(0x172)]]=!![]);}),document[_0x1d89a2(0x13f)](_0x1d89a2(0x17c),_0x45d07f=>{const _0x4a6d3f=_0x1d89a2;keys['hasOwnProperty'](_0x45d07f[_0x4a6d3f(0x172)])&&(keys[_0x45d07f[_0x4a6d3f(0x172)]]=![]);});const characterSpeed=0.035,characterPosition=character['position'][_0x1d89a2(0x160)]();let hauteurPersonnage=0x0,indice=!![];function updateCharacterMovement(_0x1dd783){const _0x111cf7=_0x1d89a2;let _0x450b84,_0x553bed,_0x15e390,_0x5de4c7;_0x450b84=keys[_0x111cf7(0x181)],_0x553bed=keys[_0x111cf7(0x15d)],_0x15e390=keys[_0x111cf7(0x16c)],_0x5de4c7=keys['ArrowRight'];animationFinished&&!bureauClicked&&!tableauClicked&&(_0x450b84=keys[_0x111cf7(0x181)],_0x553bed=keys[_0x111cf7(0x15d)],_0x15e390=keys[_0x111cf7(0x16c)],_0x5de4c7=keys[_0x111cf7(0x17e)]);let _0x38078e=0x0,_0x1fbbc2=0x0;_0x450b84&&(_0x1fbbc2-=characterSpeed);_0x553bed&&(_0x1fbbc2+=characterSpeed);_0x15e390&&(_0x38078e-=characterSpeed);_0x5de4c7&&(_0x38078e+=characterSpeed);characterPosition['x']+=_0x38078e,characterPosition['z']+=_0x1fbbc2,character[_0x111cf7(0x197)]['y']=Math[_0x111cf7(0x144)](_0x38078e,_0x1fbbc2);characterPosition['x']<-sceneWidth/0x2-0.75&&(characterPosition['x']=-sceneWidth/0x2-0.75);characterPosition['x']>sceneWidth/0x2+0.75&&(characterPosition['x']=sceneWidth/0x2+0.75);characterPosition['z']>sceneHeight/0x2+0.75&&(characterPosition['z']=sceneHeight/0x2+0.75);characterPosition['z']<-sceneHeight/0x2-0.75&&(characterPosition['z']=-sceneHeight/0x2-0.75);const _0x20164b=characterPosition['x']>=-5.5&&characterPosition['x']<=-3.5&&characterPosition['z']>=0x2&&characterPosition['z']<=3.5;_0x20164b&&(characterPosition['x']-=_0x38078e,characterPosition['z']-=_0x1fbbc2);const _0x162192=characterPosition['x']>=-4.75&&characterPosition['x']<=-2.5&&characterPosition['z']>=-0x3&&characterPosition['z']<=-1.25;_0x162192&&(characterPosition['x']-=_0x38078e,characterPosition['z']-=_0x1fbbc2);const _0xbbe255=characterPosition['x']>=-0x1&&characterPosition['x']<=1.8&&characterPosition['z']>=-4.8&&characterPosition['z']<=-0x3;_0xbbe255&&(characterPosition['x']-=_0x38078e,characterPosition['z']-=_0x1fbbc2);const _0x2830be=characterPosition['x']>=-0.85&&characterPosition['x']<=0.85&&characterPosition['z']>=-0.85&&characterPosition['z']<=0.85;_0x2830be?characterPosition['y']=hauteurPersonnage:characterPosition['y']=hauteurPersonnage-0.2;character[_0x111cf7(0x13b)]['x']=characterPosition['x'],character[_0x111cf7(0x13b)]['z']=characterPosition['z'],character[_0x111cf7(0x13b)]['y']=characterPosition['y'],elapsedTime+=_0x1dd783;if(elapsedTime>=animationDuration&&indice){animationFinished=!![],indice=![];const _0x4bfc09=new GLTFLoader();_0x4bfc09['load']('fin.glb',_0x240e96=>{const _0x3fd5c6=_0x111cf7;scene['remove'](scene1),_0x240e96[_0x3fd5c6(0x193)][_0x3fd5c6(0x18f)][_0x3fd5c6(0x14a)](0xa,0xa,0xa),_0x240e96[_0x3fd5c6(0x193)]['position'][_0x3fd5c6(0x14a)](0x0,0x0,0x0),scene[_0x3fd5c6(0x17b)](_0x240e96[_0x3fd5c6(0x193)]),mixer=new _0x42cdf0['AnimationMixer'](_0x240e96[_0x3fd5c6(0x193)]),action=mixer[_0x3fd5c6(0x145)](_0x240e96[_0x3fd5c6(0x18a)][0x0]),action[_0x3fd5c6(0x164)](_0x42cdf0[_0x3fd5c6(0x16b)]),action[_0x3fd5c6(0x17f)]=!![],action[_0x3fd5c6(0x173)]();}),elapsedTime=0x0;}}const joystick=document[_0x1d89a2(0x187)]('joystick'),joystickManager=nipplejs[_0x1d89a2(0x156)]({'zone':joystick,'mode':_0x1d89a2(0x13e),'position':{'bottom':_0x1d89a2(0x150),'right':_0x1d89a2(0x150)},'color':'red'});let lastJoystickDirection={'x':0x0,'y':0x0},isJoystickTouched=![];const joystickInstance=joystickManager[_0x1d89a2(0x194)](0x0);joystickInstance['on']('start',()=>{isJoystickTouched=!![];}),joystickInstance['on'](_0x1d89a2(0x151),()=>{isJoystickTouched=![],lastJoystickDirection={'x':0x0,'y':0x0};}),joystickInstance['on']('move',(_0x73a47d,_0x37f8a1)=>{const _0x1930c2=_0x1d89a2;lastJoystickDirection={'x':Math[_0x1930c2(0x162)](_0x37f8a1[_0x1930c2(0x152)]['radian']),'y':-Math[_0x1930c2(0x190)](_0x37f8a1[_0x1930c2(0x152)][_0x1930c2(0x16e)])};});function moveCharacterBasedOnJoystick(){if(isJoystickTouched){const _0x4c046b=lastJoystickDirection['x']*characterSpeed,_0x446c57=lastJoystickDirection['y']*characterSpeed;characterPosition['x']+=_0x4c046b,characterPosition['z']+=_0x446c57,character['rotation']['y']=Math['atan2'](_0x4c046b,_0x446c57);}}const clock=new _0x42cdf0[(_0x1d89a2(0x185))]();let animationFinished=![],elapsedTime=0x0;function animate(){const _0x51b83f=_0x1d89a2;requestAnimationFrame(animate);const _0x44f904=clock[_0x51b83f(0x13a)]();mixer&&mixer['update'](_0x44f904),updateCharacterMovement(_0x44f904),moveCharacterBasedOnJoystick(),animationFinished?character[_0x51b83f(0x18f)][_0x51b83f(0x14a)](0x1,0x1,0x1):character[_0x51b83f(0x18f)][_0x51b83f(0x14a)](0xa,0xa,0xa),!tableauClicked&&!bureauClicked&&!livreClicked&&(camera[_0x51b83f(0x13b)][_0x51b83f(0x15f)](character['position']),camera['position'][_0x51b83f(0x17b)](new _0x42cdf0[(_0x51b83f(0x191))](0x0,1.5,2.5)),camera[_0x51b83f(0x14d)](character[_0x51b83f(0x13b)])),renderer[_0x51b83f(0x17d)](scene,camera);}renderer[_0x1d89a2(0x15c)][_0x1d89a2(0x14b)]=!![],renderer[_0x1d89a2(0x15c)][_0x1d89a2(0x15e)]=_0x42cdf0[_0x1d89a2(0x182)],animate();
